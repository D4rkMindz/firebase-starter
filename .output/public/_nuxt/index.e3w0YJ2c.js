import T from"./InputField.dGY2DWvg.js";import $ from"./PasswordField.WeIXg5Yh.js";import{_ as k}from"./NuxtLinkLocale.6MJ6KAgP.js";import{j as x,f as q,k as G,l as M,m as N,n as U,r,q as V,s as W,v as B,u as E,o as I,c as R,a as s,t as d,d as F,h as g,i as H,x as j,b as v,y as P,w as z,z as D,A as O,G as J,p as K,e as Q,B as X}from"./entry.mCwXEhA-.js";import{_ as Y}from"./_plugin-vue_export-helper.x3n3nnut.js";import"./BaseInput._1eTyL1H.js";import"./nuxt-link.xWd_iI7_.js";const Z=""+globalThis.__publicAssetsURL("img/logos/google.svg"),ee=c=>(K("data-v-b032c10a"),c=c(),Q(),c),te={class:"card bg-base-100 w-full"},se={class:"card-body"},ae={class:"card-title"},oe=["disabled"],ne=ee(()=>s("img",{src:Z,alt:"G",class:"h-6 w-6 mr-2",loading:"eager"},null,-1)),ie={class:"separator"},le=["innerHTML"],re=["disabled"],de={class:"separator mt-7 mb-7"},ce={class:"btn btn-secondary w-full"},ue=x({__name:"index",async setup(c){var y;let u,b;const{t:a}=q(),h=G(),w=M(),p=N(),S=([u,b]=U(()=>D()),u=await u,b(),u),_=r(""),m=r(""),i=r(""),n={google:r(!1),password:r(!1)};if(S){let e=w("/");(y=p.query)!=null&&y.redirect&&(e=p.query.redirect.toString()),V(e)}async function A(){n.google.value=!0;try{await O(h,new J)}catch(e){console.error("signinRedirect failed",e),i.value=a("auth/redirect-failed")}n.google.value=!1}async function C(){n.password.value=!0;try{await X(h,_.value,m.value)}catch(e){let t=a("auth/invalid-credential");console.error("signInWithEmailAndPassword failed",e);const o={"auth/invalid-credential":a("auth/invalid-credential"),"auth/invalid-email":a("auth/invalid-email"),"auth/missing-password":a("auth/missing-password")},l=e==null?void 0:e.code;l&&l in o&&(t=o[l].replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"<br>")),i.value=t}n.password.value=!1}return W(async()=>{var e;try{const t=await B(h);if(t!=null&&t.user){let o=w("/");return(e=p.query)!=null&&e.redirect&&(o=p.query.redirect.toString()),V(o)}}catch(t){console.error("getRedirectResult failed",t),i.value=a("auth/invalid-credential")}}),E({title:a("Login")}),(e,t)=>{const o=T,l=$,L=k;return I(),R("div",te,[s("div",se,[s("h2",ae,d(e.$t("Please Login")),1),s("button",{class:"btn",onClick:A,disabled:n.google.value},[ne,F(" Google ")],8,oe),s("div",ie,d(e.$t("Or continue with")),1),g(i)?(I(),R("p",{key:0,innerHTML:g(i),class:"error"},null,8,le)):H("",!0),s("form",{onSubmit:j(C,["prevent"])},[v(o,{modelValue:g(_),"onUpdate:modelValue":t[0]||(t[0]=f=>P(_)?_.value=f:null),label:e.$t("Email")},null,8,["modelValue","label"]),v(l,{modelValue:g(m),"onUpdate:modelValue":t[1]||(t[1]=f=>P(m)?m.value=f:null),label:e.$t("Password")},null,8,["modelValue","label"]),s("button",{type:"submit",class:"btn btn-primary w-full mt-2",disabled:n.password.value},d(e.$t("Login")),9,re)],32),s("div",de,d(e.$t("Not yet signed up?")),1),v(L,{to:"/signup"},{default:z(()=>[s("button",ce,d(e.$t("Sign Up")),1)]),_:1})])])}}}),be=Y(ue,[["__scopeId","data-v-b032c10a"]]);export{be as default};
