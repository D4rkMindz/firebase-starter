import M from"./InputField.dGY2DWvg.js";import x from"./PasswordField.WeIXg5Yh.js";import{_ as B}from"./NuxtLinkLocale.6MJ6KAgP.js";import{o as y,c as $,a,j as I,f as N,m as R,l as T,k as q,r as v,n as z,q as P,C as b,u as F,t as o,h as t,i as H,x as W,b as c,y as g,D as n,w as Z,z as j,E as D}from"./entry.mCwXEhA-.js";import{_ as G}from"./_plugin-vue_export-helper.x3n3nnut.js";import"./BaseInput._1eTyL1H.js";import"./nuxt-link.xWd_iI7_.js";function _(L,d){return y(),$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})])}const J={class:"card bg-base-100 w-full"},K={class:"card-body"},O={class:"card-title"},Q=["innerHTML"],X={class:"password-validation"},Y={class:"check"},ss={class:"check"},es={class:"check"},as={class:"check"},ts={class:"password-validation"},ns={class:"check"},ls=["disabled"],os={class:"separator mt-7 mb-7"},cs={class:"btn btn-secondary btn-outline text-secondary-content w-full"},is=I({__name:"index",async setup(L){var A;let d,k;const{t:i}=N(),C=R(),V=T(),S=q(),e={canSubmit(){return this.email&&this.alphanumerical&&this.special&&this.uppercase&&this.minLength&&this.match},email:!1,alphanumerical:!1,special:!1,uppercase:!1,minLength:!1,match:!1},m=v(""),r=v(""),p=v(""),w=v("");if([d,k]=z(()=>j()),d=await d,k(),d){let s=V("/");(A=C.query)!=null&&A.redirect&&(s=C.query.redirect.toString()),P(s)}b(m,s=>{e.email=s.length>0}),b(r,s=>{e.special=/^.*[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~].*$/.test(s),e.alphanumerical=/^.*[a-zA-Z].*$/.test(s),e.uppercase=/^.*[A-Z].*$/.test(s),e.minLength=s.length>=8,e.match=p.value===s}),b(p,s=>{e.match=r.value===s});async function U(){if(e.canSubmit())try{const s=await D(S,m.value.trim(),r.value);console.log("User created",s),P(V("/"))}catch(s){let l=i("auth/invalid-credential");console.error("createUserWithEmailAndPassword failed",s);const f={"auth/email-already-in-use":i("auth/email-already-in-use"),"auth/invalid-email":i("auth/invalid-email"),"auth/missing-password":i("auth/missing-password")},u=s==null?void 0:s.code;u&&u in f&&(l=f[u].replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"<br>")),w.value=l}}return F({title:i("Sign up")+" @ "+i("APP_NAME")}),(s,l)=>{const f=M,u=x,E=B;return y(),$("div",J,[a("div",K,[a("h2",O,o(s.$t("Sign up")),1),t(w)?(y(),$("p",{key:0,innerHTML:t(w),class:"error"},null,8,Q)):H("",!0),a("form",{onSubmit:W(U,["prevent"])},[c(f,{modelValue:t(m),"onUpdate:modelValue":l[0]||(l[0]=h=>g(m)?m.value=h:null),label:s.$t("Email")},null,8,["modelValue","label"]),c(u,{modelValue:t(r),"onUpdate:modelValue":l[1]||(l[1]=h=>g(r)?r.value=h:null),label:s.$t("Password")},null,8,["modelValue","label"]),a("div",X,[a("div",Y,[c(t(_),{class:n(["icon",{success:e.alphanumerical}])},null,8,["class"]),a("p",{class:n({success:e.alphanumerical})},o(s.$t("Contains alphanumerical character")),3)]),a("div",ss,[c(t(_),{class:n(["icon",{success:e.special}])},null,8,["class"]),a("p",{class:n({success:e.special})},o(s.$t("Contains special character")),3)]),a("div",es,[c(t(_),{class:n(["icon",{success:e.uppercase}])},null,8,["class"]),a("p",{class:n({success:e.uppercase})},o(s.$t("Contains uppercase character")),3)]),a("div",as,[c(t(_),{class:n(["icon",{success:e.minLength}])},null,8,["class"]),a("p",{class:n({success:e.minLength})},o(s.$t("Is at least 8 characters long")),3)])]),c(u,{modelValue:t(p),"onUpdate:modelValue":l[2]||(l[2]=h=>g(p)?p.value=h:null),label:s.$t("Retype Password")},null,8,["modelValue","label"]),a("div",ts,[a("div",ns,[c(t(_),{class:n(["icon",{success:e.match}])},null,8,["class"]),a("p",{class:n({success:e.match})},o(s.$t("Passwords must match")),3)])]),a("button",{type:"submit",class:"btn btn-primary w-full mt-2",disabled:!e.canSubmit()},o(s.$t("Sign up")),9,ls)],32),a("div",os,o(s.$t("Already have an account?")),1),c(E,{to:"/login"},{default:Z(()=>[a("button",cs,o(s.$t("Login")),1)]),_:1})])])}}}),vs=G(is,[["__scopeId","data-v-4a4c7a22"]]);export{vs as default};
